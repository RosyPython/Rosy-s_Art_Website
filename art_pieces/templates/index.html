{% load static %}
<div>{% include "navigation_bar.html" %}</div>
<link rel="stylesheet" href="{% static 'index.css' %}">
<style>
.hidden {display:none;}
</style>
<body style ="background-color: #c4c5ff">
    <div class = "flex-container">
        {% for piece in pieces %}
        <div class = "art_container">
            <img class = "art_image" src="{{piece.image}}"
            id = "art_image">
        </div>
        {% endfor %}
        <div class="comments-popup hidden" id = "comments-popup">
            <div id = "image-body" class = "img-body">
                <img class = "art-image-popup" id = "art-pop-image" src="">
            </div>
            <div class = "comment-section">
            </div>
        </div>
        <script>
            function changeSrc(src){
                document.getElementById("art-pop-image").setAttribute("src", src)
            }
            function toggle(){
                document.getElementById("comments-popup").classList.toggle("hidden")
            }
            document.querySelectorAll("img.art_image").forEach((el) => {
                console.log(el)
                el.addEventListener("click", () => {
                    changeSrc(el.src)
                    toggle()
                }
                )
            })
            document.getElementById("image-body").addEventListener("click", (e) =>{
                if(event.target.id === "image-body"){
                    toggle()
                }
            })
        </script>
    </div>
</body>